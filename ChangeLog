Sun Oct  3 19:43:23 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: release of 0.0.14
	* server/gam_excludes.c: added /dev/ and /proc/ in the list of the
	  excludes.
	* doc/Makefile.am: fixed the Makefile for new images and html.

Sun Oct  3 19:05:14 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* doc/debug.html doc/gamin.html doc/internals.html doc/security.html:
	  more documentation cleanup, includes how to switch a running
	  application to debugging.

Sun Oct  3 17:55:17 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* doc/* doc/internals.html doc/client_server.gif doc/server_structs.gif:
	  added documentation about the internals, regenerated the docs.

Sun Oct  3 16:11:01 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_api.c: extra debug on client API

Sun Oct  3 16:03:56 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_poll.c server/gam_subscription.c: cleanup, debug
	  and probable fix for #132429, #133665 and #134413

Sat Oct  2 14:57:58 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_server.c: code cleanup
	* lib/gam_error.[ch] libgamin/gam_api.c: added a dynamic debugging
	  capability using SIGUSR2

Fri Oct  1 18:15:05 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: release 0.0.13

Fri Oct  1 12:01:39 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/fam.h server/gam_poll.c: portability cleanups w.r.t.
	  PATH_MAX not in limits.h reported by Michael Banck

Fri Oct  1 11:47:55 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_api.c libgamin/gam_protocol.h server/gam_connection.c:
	  applied patch from Sergio Garcia to fix a packet size problem
	  on some platforms.

Fri Oct  1 01:13:52 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_node.[hc] server/gam_poll.c server/gam_subscription.[ch]:
	  cleanup and be more defensive.

Thu Sep 30 15:34:19 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: release 0.0.12

Tue Sep 28 01:31:52 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_poll.c: adding missing locks around a list
	  update. Though gam_server is single threaded maybe this
	  is the cause of a list corruption generating a loop.

Mon Sep 27 12:47:20 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in server/Makefile.am: release 0.0.11

Mon Sep 27 11:53:01 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_inotify.c server/local_inotify.h: applied patch
	  for inotify 0.10 from John McCutchan

Sun Sep 26 21:21:05 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_api.c: added unimplemented entry points 
	  FAMSuspendMonitor and FAMResumeMonitor, c.f. #133162
	* doc/gamin-api.xml doc/gamin-refs.xml: rebuild 

Fri Sep 24 15:15:08 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in server/gam_inotify.c server/local_inotify.h: always
	  compile in the inotify support and fallback to dnotify if we cannot
	  find kernel support at runtime. Patch from Martin Schlemmer.
	* server/gam_inotify.c: avoid the glib warning and use gam_debug

Wed Sep 22 00:20:20 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in server/gam_excludes.c server/gam_server.c: applied
	  a patch to cleanup dnotify and inotify duality from Martin Schlemmer

Tue Sep 21 13:30:11 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: release of 0.0.10
	* libgamin/fam.h libgamin/gam_api.c: fixing an API/ABI incompatibility
	  between FAM and gamin about FAMErrno and FamErrlist, which though
	  in fam-2.6.10 are documented as not used, should close bug #132944

Mon Sep 20 17:18:23 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* doc/config.html doc/*: added documentation for the config file.

Mon Sep 20 16:21:24 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in server/Makefile.am server/gam_poll.c: applied a
	  portability patch from Michael Banck
	* server/gam_excludes.c server/gam_poll.c: added support for
	  a per-user configuration file $HOME/.gaminrc , and some 
	  fprintf cleanups

Fri Sep  3 23:33:57 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* doc/*.html: providing more documentation.

Fri Sep  3 15:29:47 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* NEWS TODO doc/gamin.html doc/news.html: updating for the recent
	  releases and rebuilt.

Wed Sep  1 17:22:16 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: released 0.0.9

Wed Sep  1 15:50:49 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/Makefile.am server/gam_excludes.c server/gam_excludes.h
	  server/gam_poll.c server/gam_server.c: starting to add exclude
	  support where given path do no get kernel monitoring. Currently
	  statically excludes /mnt//* /media//* . Something more dynamic
	  might be needed.

Wed Sep  1 10:27:49 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_api.c libgamin/gam_data.c: try to fix crashes with
	  konqueror, Red Hat bug #130967

Mon Aug 30 11:25:04 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: oops apparently I forgot to commit
	  the 0.0.8 release changes.

Thu Aug 26 17:28:57 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_dnotify.c server/gam_poll.c server/gam_server.c: 
	  lot of debugging, the server was crashing, and the poll/kernel
	  switching was not done properly. Can still be improved for 
	  Changed events flood, but at least it does not crash anymore.

Wed Aug 25 21:35:36 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_dnotify.c server/gam_inotify.c server/gam_poll.c
	  server/gam_server.c server/gam_server.h: applied patch from 
	  Martin Schlemmer to allow fallback to dnotify if inotify
	  back-end failed to initialize.

Wed Aug 25 16:38:54 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* Makefile.am NEWS configure.in doc/Makefile.am doc/contacts.html
	  doc/devel.html doc/downloads.html doc/gamin.html doc/index.html
	  doc/news.html doc/news.xsl doc/overview.html doc/site.xsl: building
	  the web site, borrowing most of the XSLT code from libxml2 project

Wed Aug 25 15:39:45 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* README doc/gamin.html: updating the documentation

Wed Aug 25 10:19:00 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_server.c: applied patch from Martin Schlemmer to
	  activate the INotify backend if configured in.

Tue Aug 24 13:52:12 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: release of 0.0.7

Tue Aug 24 12:05:29 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* TODO: updated reflecting new step, added reminder about 
	  annoying cases to test
	* server/gam_dnotify.c server/gam_poll.c: if a monitored
	  resource generate too much kernel events switch back automatically
	  to polling on that resources, and once things have calmed down
	  go back to kernel monitoring after 10 seconds.

Mon Aug 23 14:48:51 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* TODO: updated with fixed stuff and new problems
	* server/gam_poll.c server/gam_server.c: handling of initially
	  missing directories. Try to improve detection of modifications.
	* tests/scenario/8.tst tests/result/8: added a new test

Fri Aug 20 23:31:04 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_poll.c: monitoring of files appearing and disapearing
	  should now work as expected.
	* tests/result/7 tests/scenario/7.tst: added a specific test

Thu Aug 19 23:46:13 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_dnotify.c: fix a problem for monitoring missing
	  files
	* tests/result/6 tests/scenario/6.tst: added a regression test
	  for it.

Thu Aug 19 15:38:55 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* Makefile.am configure.in gamin.spec.in: release of 0.0.6
	* doc/gamin-api.xml doc/gamin-refs.xml: rebuilt

Thu Aug 19 14:40:58 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_poll.c: fixing dnotify and FAM events sequences when
	  monitoring an existing file.
	* tests/result/5 tests/scenario/5.tst: added a specific test
	* TODO: tests need fixing to avoid paths problems

Thu Aug 19 13:54:36 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_dnotify.c server/gam_node.h server/gam_server.c
	  server/gam_server.h server/gam_subscription.c: work toward fixing the
	  file dnotify back-end and FAM like-processing

Wed Aug 18 14:48:33 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* gamin.spec.in: fix path
	* doc/debugging.txt: add .gdbinit hint

Wed Aug 18 13:07:03 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* TODO: updated
	* doc/debugging.txt: added doc on how to debug gamin
	* libgamin/Makefile.am libgamin/gam_fork.c server/Makefile.am:
	  moved gam_server to /usr/libexec instead of /usr/bin following
	  Mark suggestion

Tue Aug 17 17:48:05 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_dnotify.c: working on fixing file checking notification
	* server/gam_poll.c server/gam_poll.h: start on integrating polling

Tue Aug 17 16:57:58 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_server.c: a bit of framework which looks safe too

Tue Aug 17 16:55:16 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* gam_tree.c: cleanup while chasing regression in make tests

Thu Aug 12 19:44:02 EDT 2004 Daniel Veillard <veillard@redhat.com>

	* tests/Makefile.am: use $GAMIN_DEBUG_SERVER so that regression
	  tests can be run in a clean environment.

Thu Aug 12 13:42:22 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/Makefile.am: fix build on x86_64. Auto* is excessively
	  arcane and buggy, end-up copying the files on the libgamin dir.
	* server/gam_connection.c server/gam_poll.c server/gam_subscription.c
	  server/gam_subscription.h tests/testing.c: more testing more debug
	  messages.

Wed Aug 11 13:18:04 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in lib/Makefile.am libgamin/Makefile.am libgamin/gam_fork.c
	  server/Makefile.am server/gam_dnotify.c server/gam_inotify.c 
	  server/gam_node.c server/gam_node.hserver/gam_poll.c server/gam_tree.c
	  server/gam_server.c: cleanup patch from John McCutchan removing
	  comented out thread code, modularization of makefiles, and
	  use of $GAMIN_DEBUG_SERVER for debug or test when the client forks
	  a new server.

Tue Aug 10 10:56:49 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* Makefile.am TODO configure.in libgamin/Makefile.am libgamin/TODO
	  server/Makefile.am lib/*: applied cleanup patch from John McCutchan
	  then rebuilt the lib/ subdir providing shared code between the
	  client lib and the server (gam_error and gam_event).
	* server/gam_inotify.c: update as part of John McCutchan patch.

Fri Aug  6 17:09:53 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in: to not link with glib threads, not needed anymore
	* libgamin/gam_api.c: fixed timeouts values
	* tests/Makefile.am tests/testing.c tests/result/4 tests/scenario/4.tst:
	  adding more tests, especially transparent restart when the server
	  is killed.

Fri Aug  6 14:29:47 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_fork.c: avoid generating zombies

Thu Aug  5 16:51:33 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: release of 0.0.5
	* doc/gamin-api.xml doc/gamin-refs.xml: rebuilt

Thu Aug  5 16:23:18 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* server/gam_event.h server/gam_inotify.c server/gam_server.c:
	  patches from John McCutchan, inotify back-end update and 
	  bugfixes on error conditions in gam_server.c

Thu Aug  5 11:55:59 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_fork.c: markmc pointed at a problem when forking
	  a daemon and exiting, the exit(0) called the ORBit atexit 
	  handlers in the child.

Thu Aug  4 16:55:38 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in: release of 0.0.4

Wed Aug  4 14:34:27 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* TODO: update
	* libgamin/gam_error.c libgamin/gam_error.h server/gam_error.c
	  server/gam_error.h: cleanup some warnings when compiling
	  on Fedora Core
	* server/gam_poll.c: unused variable
	* tests/Makefile.am: cleanup before running "make tests"

Wed Aug  4 13:14:02 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/fam.h: fix a bug compiling KDE reported by than
	* server/gam_poll.c: some code cleanup
	* tests/testing.c: adding an expect command way better than wait
	* tests/result/[1-3] tests/scenario/[1-3].tst tests/Makefile.am:
	  started setting up reliable regression testing, discovered a 
	  strange timeout problem with gam_server to be investigated
	  left as a comment on 3.tst

Tue Aug  3 14:55:49 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* tests/testing.c: do not exit on parse if interactive
	* server/gam_poll.c: fix a bug for removed resources
	* libgamin/gam_api.c: try to work around some timeout/connection
	  issues when multiple process try to for a server.

Mon Aug  2 14:11:18 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* gamin.spec.in: spelling fix (thanks fcrozat)
	* libgamin/gam_api.clibgamin/gam_data.c libgamin/gam_data.h:
	  fix a problem of setting/checking that the client did actually
	  authenticate with the server.
	* tests/testing.c: make a better interactive debugging mode
	  using "testgam -" more powerful than pure static file tests.

Fri Jul 30 15:01:17 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in gamin.spec.in libgamin/Makefile.am: release 0.0.3,
	  with makefile and spec fixups from Frederic Crozat

Thu Jul 29 16:31:20 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in libgamin/gam_api.c server/gam_channel.c
	  server/gam_channel.h server/gam_connection.c server/gam_server.c
	  server/gam_server.h: reactivated support for OSes without 
	  abstract sockets using a /tmp subdir per user to avoid problems
	* doc/socket.txt: small text describing the socket handling
	* doc/gamin-api.xml: rebuilt

Wed Jul 28 22:29:57 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in libgamin/gam_api.c server/gam_channel.c: desactivating
	  code if abstract sockets are not found following security problem
	  http://mail.gnome.org/archives/gamin-list/2004-July/msg00017.html

Tue Jul 27 12:23:52 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* configure.in server/Makefile.am server/gam_inotify.c
	  server/gam_inotify.h server/gam_server.c: Applied patches
	  from John McCutchan for inotify the potential dnotify
	  kernel API replacement on Linux.

Tue Jul 27 11:52:58 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/fam.h: fix a compilation problem with latest patch.
	* libgamin/gam_api.c server/gam_connection.c server/gam_listener.c
	  server/gam_listener.h: applied patch from Carlos Romero to fix
	  FAMCancelMonitor.

Sat Jul 17 19:40:25 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* doc/apibuild.py doc/gamin-api.xml doc/gamin-refs.xml: some
	  doc extraction processing based on libxml2 tool
	* libgamin/fam.h libgamin/gam_api.c libgamin/gam_data.c
	  libgamin/gam_error.h libgamin/gam_protocol.h: cleanup in the
	  process of generating the XML description.

Fri Jul 16 13:42:37 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* gamin.spec.in configure.in: preparing 0.0.2 release
	* libgamin/gam_api.c libgamin/gam_data.c libgamin/gam_data.h:
	  made the client side restartable, i.e. if the server exists
	  a new connection is made and monitors are reestablished
	  seems to work more or less okay.
	* TODO: updated.

Tue Jul 13 15:41:24 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_data.c libgamin/gam_api.c: fixed FAMMonitorDirectory2()
	  and FAMMonitorFile2() they should now implement the correct behaviour
	* server/gam_dnotify.c server/gam_node.c server/gam_node.h
	  server/gam_poll.c server/gam_server.c server/gam_tree.c: removed
	  threading and locking, this should still work for the current
	  constraints
	* tests/testing.c: adding wait and updated to allow
	  FAMMonitorDirectory2 testing with an extra arg to mondir
	* TODO: updated

Fri Jun 18 15:28:32 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/fam.h libgamin/gam_api.c: the new version of the
	  FAMCONNECTION_GETFD macro was buggy. Applied patch from
	  hadess.

Fri Jun 18 14:25:04 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* autogen.sh: drop special dependancies a given version of the
	  autotools

Fri Jun 18 14:12:59 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_protocol.h server/gam_connection.h: workaround
	  gtk-doc parsing limitations
	* configure.in Makefile.am gamin.spec.in libgamin/Makefile.am:
	  emulation of libfam wasn't sufficient to compile fam-dependant
	  code as pointed by hadess

Fri Jun 18 09:42:47 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* gamin.spec.in: preparing first release of 0.0.1
	* tests/Makefile.am tests/testing.c: a bit more work on the
	  testing framework

Thu Jun 17 14:32:07 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/Makefile.am libgamin/testing.c tests/Makefile.am
	  tests/testing.c: setup the test environment
	* tests/scenario/tst1 tests/result/tst1: add first test

Thu Jun 17 00:38:33 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_api.c libgamin/gam_fork.c libgamin/gamin.c
	  libgamin/testing.c server/gam_channel.c: renamed the ID
	  environment variable to GAM_CLIENT_ID

Wed Jun 16 23:35:13 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* libgamin/gam_api.c libgamin/gam_data.c libgamin/gam_data.h
	  server/gam_channel.c server/gam_connection.c TODO: Changed
	  the protocol to add an authentication byte from the server
	  to the client at the beginning of the stream and authentication
	  code on the client to check that the server is running under
	  the same user.
	* gamin.spec: generated by configure, removed.

Wed Jun 16 11:55:59 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* TODO libgamin/Makefile.am libgamin/gamin_sym.version: block
	  non-FAM symbols export from shared lib
	* Copyright: reference the AUTHORS and COPYING files.

Tue Jun 15 23:45:50 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* AUTHORS COPYING README: update to reflect the LGPL licence
	  and the inheritance from the marmot code base.

Tue Jun 15 23:25:03 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* README gamin.spec.in: added mail archive URL, 0.0.1-pre1

Tue Jun 15 21:45:20 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* README TODO: I was sure I updated the README before the
	  import... updated the TODO to reflect the current state

Tue Jun 15 21:33:55 CEST 2004 Daniel Veillard <veillard@redhat.com>

	* m4/gthread-supported.m4: still needed for configure.in until
	  one got rid of any thread handling in the server code.
